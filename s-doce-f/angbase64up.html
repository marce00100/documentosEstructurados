<!DOCTYPE html>
<html lang="en" ng-app='myApp'>
    <head>
        <meta charset="UTF-8">
        <title>Angular Base64 Upload Demo</title>
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="bower_components/angular/angular.min.js" type="text/javascript"></script>
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
        <!--<script type="text/javascript" src="libs/angular.min.js"></script>-->
        <!--<script type="text/javascript" src="libs/angular-base64-upload.js"></script>-->
        <script src="bower_components/angular-base64-upload/dist/angular-base64-upload.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            angular.module('myApp', ['naif.base64'])
            .controller('ctrl', function($scope) {
                $scope.file = {};

            })
            .run(function($rootScope) {
//                $fs = (  $fs === null) ? {"filename": "", "base64": ""} : $fs;
                $rootScope.valor = function() {
                    return "123456789";
                };
                $rootScope.imagenBase64 = function($fs) {
                    var imgBase64 = "";
                    if ((typeof $fs !== "undefined") && ($fs !== null))
                    {
                        console.log($fs);
                        imgBase64 = "![" + $fs.filename + "]( data:image;base64," + $fs.base64 + ")";
                        //return (isUndefined(fs.base64) || isNull(fs.base64))?'':fs.base64 ; //file.base64;
                    }
                    return imgBase64;
                };
            });

        </script>

    </head>
    <body ng-controller="ctrl">
        <div class="container">
            <form name="form">
                <h3>Single File Selection</h3>
                <div class="input-group">

                    <span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>Add Pic.</span>
                        <input type="file" ng-model="file" name="file" ng-disabled="disabled" hidden=""  base-sixty-four-input ng-change="clave = imagenBase64(file)" ng-click="" >
                    </span>


                </div>

                <b>Model Value:</b>
                nombre : {{file.filename}} <br>
                filetype : {{file.filetype}} <br>
                kb : {{file.filesize / 1000}} <br>
                data:image/jpg;base64,
                base64 : <br>
                <textarea style="height: 200px; width: 400px; overflow: scroll" >![{{file.filename}}]( data:image/jpg;base64,{{ file.base64}})</textarea>

                <br>
                {{clave}}
                </div>
                </body>

                </html>